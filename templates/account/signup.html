{% extends "layouts/account.html" %}
{% load i18n %}
{% load allauth account %}

{% block head_title %}
    {% trans "Sign Up" %}
{% endblock head_title %}

{% block content %}

    <form class="flex flex-col gap-6 w-full items-center p-6 bg-white shadow-lg rounded max-w-sm" method="post" action="{% url 'account_signup' %}">
        {% csrf_token %}
        <h2 class="text-2xl font-semibold">{% trans "Register" %}</h2>

        <div class="space-y-2">
            <!-- Show General Errors -->
            {% if form.non_field_errors %}
                <p class="text-red-500 text-xs">{{ form.non_field_errors.0 }}</p>
            {% endif %}
    
            <!-- Preserve Redirection -->
            <input type="hidden" name="next" value="{{ request.GET.next }}">
    
            <!-- Username Input -->
            <input type="text" name="username" placeholder="Username" required class="input" autofocus>
            {% if form.username.errors %}
                <p class="text-red-500 text-xs">{{ form.username.errors.0 }}</p>
            {% endif %}
    
            <!-- Email Input -->
            <input type="email" name="email" placeholder="Email" required class="input">
            {% if form.email.errors %}
                <p class="text-red-500 text-xs">{{ form.email.errors.0 }}</p>
            {% endif %}

            <div class="flex gap-2">
                <!-- First Name Input -->
                <input type="text" name="first_name" placeholder="First Name" required class="input">
                {% if form.first_name.errors %}
                    <p class="text-red-500 text-xs">{{ form.first_name.errors.0 }}</p>
                {% endif %}
            
                <!-- Last Name Input -->
                <input type="text" name="last_name" placeholder="Last Name" required class="input">
                {% if form.last_name.errors %}
                    <p class="text-red-500 text-xs">{{ form.last_name.errors.0 }}</p>
                {% endif %}
            </div>
    
            <!-- Password Input -->
            <input type="password" name="password1" placeholder="Password" required class="input">
            {% if form.password1.errors %}
                <p class="text-red-500 text-xs">{{ form.password1.errors.0 }}</p>
            {% endif %}
    
            <!-- Confirm Password Input -->
            <input type="password" name="password2" placeholder="Confirm Password" required class="input">
            {% if form.password2.errors %}
                <p class="text-red-500 text-xs">{{ form.password2.errors.0 }}</p>
            {% endif %}
        </div>

        <button class="button button-primary py-1 w-full" type="submit">
            {% trans "Create Account" %}
        </button>
    </form>

    <p class="text-sm mt-8">
        {% trans "Already have an account?" %}
        <a class="text-blue-500 hover:underline" href="{% url 'account_login' %}">{% trans "Login here!" %}</a>
    </p>

    {% if SOCIALACCOUNT_ENABLED %}
        <p class="mt-4">{% trans "Or sign up with:" %}</p>
        {% include "socialaccount/snippets/signup.html" %}
    {% endif %}
{% endblock %}
